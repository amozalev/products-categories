<div class="row">
  <div class="col-lg-3">
    <app-admin-menu></app-admin-menu>
  </div>
  <div class="col-lg-9">
    <div class="row">
      <h2 class="my-4">Categories</h2>
      <div class="col-xs-12">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="row form-row">
            <div class="form-group col">
              <label for="name">Name</label>
              <input
                type="text"
                id="name"
                formControlName="name"
                class="form-control"
                placeholder="example_name">
              <span *ngIf="!form.get('name').valid && form.get('name').touched"
                    class="help-block">
                Please add name
              </span>
            </div>
            <div class="form-group col">
              <label for="normal_name">Normal name</label>
              <input
                type="text"
                id="normal_name"
                formControlName="normal_name"
                class="form-control"
                placeholder="Normal name">
              <span *ngIf="!form.get('normal_name').valid && form.get('normal_name').touched"
                    class="help-block">
                Please add normal name
              </span>
            </div>
            <div class="form-group col">
              <label for="parent">Parent categories</label>
              <input
                type="text"
                id="parent"
                formControlName="parent"
                class="form-control"
                placeholder="0">
            </div>
            <div class="col-xs-12">
              <button type="button"
                      class="btn btn-warning"
                      (click)="onClear()">Clear
              </button>
            </div>
            <div class="col-xs-12">
              <button type="submit"
                      class="btn btn-success"
                      [disabled]="!form.valid">
                {{editMode ? 'Update' : 'Add'}}
              </button>
            </div>
            <div class="form-group col-xs-2">
              <button
                type="button"
                class="btn btn-danger"
                [disabled]="!editMode"
                (click)="onDelete()">Delete
              </button>
            </div>
          </div>

          <table class="table table-hover">
            <thead>
            <tr>
              <th scope="col">â„–</th>
              <th scope="col">Name</th>
              <th scope="col">Normal name</th>
              <th scope="col">Parent category</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let category of categories; let i = index"
                (click)="onEdit(category.id)">
              <td>{{i + 1}}</td>
              <td>{{category.name}}</td>
              <td>{{category.normal_name}}</td>
              <td>{{category.parent}}</td>
            </tr>
            </tbody>
          </table>
          <!--          <div class="row form-row" *ngFor="let category of categories; let i = index">-->
          <!--            <div class="form-group col col-1">-->
          <!--              {{i + 1}}-->
          <!--            </div>-->
          <!--            <div class="form-group col">-->
          <!--              <input-->
          <!--                type="text"-->
          <!--                formControlName="name"-->
          <!--                class="form-control"-->
          <!--                value="{{category.name}}">-->
          <!--            </div>-->
          <!--            <div class="form-group col">-->
          <!--              <input-->
          <!--                type="text"-->
          <!--                formControlName="normal_name"-->
          <!--                class="form-control"-->
          <!--                value="{{category.normal_name}}">-->
          <!--            </div>-->
          <!--            <div class="form-group col">-->
          <!--              <input-->
          <!--                type="text"-->
          <!--                formControlName="parent"-->
          <!--                class="form-control"-->
          <!--                value="{{category.parent}}">-->
          <!--            </div>-->
          <!--            <div class="form-group col-xs-2">-->
          <!--              <button-->
          <!--                type="button"-->
          <!--                class="btn btn-danger"-->
          <!--                (click)="onDeleteCategory(i)">x-->
          <!--              </button>-->
          <!--            </div>-->
          <!--          </div>-->
        </form>
      </div>
    </div>
  </div>
</div>
